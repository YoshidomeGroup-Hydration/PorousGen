# [PorousGen] GitHub Repository
“PorousGen” allows for the efficient generation of large-scale porous structures through parallel computation. It can also accurately create structures according to a defined target porosity.

The repository contains the implementation of the **core algorithm** (Section 2.1), together with **reproducibility scripts** for all results in Section 3 and Supporting Information SI-1. Each script is organized by section and produces the corresponding figures, tables, and output data.

## Requirements
Python **3.12.3** or later
- numpy  
- scipy  
- scikit-image  
- tifffile  
- matplotlib (recommended)  
- porespy (optional, used only in Section 3.2)

Install dependencies:

```bash
pip install -r requirements.txt
```

## Folder Structure

- `LICENSE` : MIT License
- `requirements.txt`
- `demo/` : Core algorithm in Section 2.1
  - `code_PorousGen.py` : PorousGen algorithm
  - `result/`  : Output
- `repro/code_folder/` : Analysis scripts corresponding to each section of the manuscript
  - `run_codes.sh` :  Master script to execute the codes listed below
    - `code_PorousGen.py` : PorousGen algorithm
    - `code_PoreSpy.py` : PoreSpy-based generation and comparison
    - `helpers.py` : Helper functions and utilities
  - `results/`  : Outputs generated by each analysis script (figures and tables)

### Section-to-Folder Mapping

| Section | code_folder | results | Figure/Table |
|---------|-------------|-------------|--------------|
| 2.1 Algorithm for generating a porous structure | `demo/` | `result/` | N/A |
| 3.1.1 Dependence on parameter l | `repro/section3_1_1/` | `results/section3_1_1/` | Figure 2 |
| 3.1.2 Dependence on parameter dL | `repro/section3_1_2/` | `results/section3_1_2/` | Figure 3 |
| 3.1.3 Dependence on parameter ϕ_Particle | `repro/section3_1_3/` | `results/section3_1_3/` | Figure 4 |
| 3.2 Comparison with PoreSpy | `repro/section3_2/` | `results/section3_2/` | Figure 5 |
| 3.3 Comparison with experimental data | `repro/section3_3/` | `results/section3_3/` | Table 2 |
| SI-1 Effect of binning on the power spectrum | `repro/SI_1/` | `results/SI_1/` | Figure S1 |

---


## Usage
### Using core algorithm in Section 2.1   

The following parameters are used for test execution:

```text
VN_ori = 200        # N_Box
VL_ori = 10         # L_Box [nm]
ran = 1             # seed
mean = 140          # D_Mean [nm]
stan = 1            # D_SD [nm]
eta_target = 40     # \eta_Box [%]
delta_VN = 50       # l = VL_ori * delta_VN [\mu m]
N = 5               # The box is divided into N^3 subdomains for parallel computation.
eta_err = 1         # \eta_Err [%]
phi_particle = 50   # \phi_Particle [%]
dL2 = mean + 2*stan # 2dL [nm]
```
To run the algorithm:
```bash
cd demo/
python3 code_PorousGen.py
```

A 3D porous structure with 100^3 voxels of size 20 nm is generated.
TIFF image files of the generated structure will be saved automatically in the result directory.


### Using analysis scripts corresponding to each section of the manuscript

Reproduce Figure 2
```bash
cd repro/section3_1_1/
bash run_codes.sh
```
Reproduce all results
```bash
cd repro/
bash run_codes_all.sh
```
All generated outputs (TIFF, PNG, TXT) will be stored automatically in the results directory.




# Licence
“PorousGen” is available under the MIT License.

# Citing this work
If you use "PorousGen", please cite:
```
PorousGen: An efficient algorithm for generating porous structures with accurate porosity and uniform density distribution
Shota Arai and Takashi Yoshidome
arXiv: 2510.17133 (2025). http://arxiv.org/abs/2510.17133
```
# Contact
If you have any questions, please contact Shota Arai at<br>
shota.arai.c2@tohoku.ac.jp






